import{a as O,d as ke}from"./chunk-4KZ4TMTH.js";import{a as Ve}from"./chunk-7QNRGCAG.js";import{a as re,b as se,c as le,d as _,f as ue,g as me,h as ce,i as V,k as pe,l as de,m as fe,n as he,o as ge,p as _e,r as Ce,t as Me,u as Ie,v as Ee}from"./chunk-RTH6QAHJ.js";import"./chunk-MJR3NRSB.js";import{c as z}from"./chunk-OE3CAFSX.js";import{D as c,E as v,Ea as te,Fa as ie,Ha as E,Ia as ne,Ja as oe,L as H,La as L,M as d,Ma as q,N,O as l,P as $,R as Z,S as a,T as s,Ta as ae,U as C,V as J,Va as B,W,Wa as j,Y as w,Z as y,_ as g,ab as ve,ba as X,bb as be,ca as S,cb as ye,da as P,ea as T,eb as D,ga as u,gb as we,hb as xe,i as Q,ia as A,k as M,ma as Y,n as x,o as I,r as f,s as h,w as k,xa as ee,y as U,ya as b,z as G,za as R}from"./chunk-QMXP4EW4.js";var Pe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-benefits"]],decls:18,vars:0,consts:[[1,"benefits"],[1,"benefits__title","title"],[1,"items"],[1,"items__col"],["src","assets/icons/ico_tickets.svg","alt",""],[1,"items__col-box"],["src","assets/icons/ico_cellphone.svg","alt",""]],template:function(i,t){i&1&&(a(0,"section",0)(1,"h2",1),u(2,"Beneficios del pr\xE9stamo Mi Efectivo Semilla"),s(),a(3,"div",2)(4,"div",3),C(5,"img",4),a(6,"div",5)(7,"h3"),u(8,"Solicita hasta S/ 2,000"),s(),a(9,"p"),u(10,"Con la flexibilidad de pagar en un plazo de hasta 12 meses."),s()()(),a(11,"div",3),C(12,"img",6),a(13,"div",5)(14,"h3"),u(15,"Obt\xE9nlo 100% online"),s(),a(16,"p"),u(17,"Desde donde est\xE9s en minutos y te evaluaremos de forma digital."),s()()()()())},styles:[".benefits[_ngcontent-%COMP%]{padding:3rem 2rem}.benefits__title[_ngcontent-%COMP%]{text-align:center;color:#141518}.items[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.4rem 3rem;flex-wrap:wrap}.items__col[_ngcontent-%COMP%]{padding:1rem;display:flex}.items__col-box[_ngcontent-%COMP%]{margin-left:.5rem;display:flex;flex-direction:column;justify-content:center}.items__col-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-family:Open Sans Hebrew;font-size:20px;font-weight:700;line-height:26px;text-align:left;color:#141518}.items__col-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:400;line-height:22px;text-align:left;color:#141518}"]})}}return n})();var Ae=["documentNumberInput"];function Re(n,p){n&1&&(a(0,"span",21),u(1,"Campo requerido"),s())}function qe(n,p){n&1&&(a(0,"span",21),u(1,"El DNI debe ser diferente de 00000000."),s())}function je(n,p){if(n&1&&(a(0,"div"),d(1,Re,2,0,"span",20)(2,qe,2,0,"span",20),s()),n&2){let e=g();c(),l("ngIf",e.loanForm.get("documentNumber").errors.required),c(),l("ngIf",e.loanForm.get("documentNumber").errors.excludedDni)}}function ze(n,p){n&1&&(a(0,"span",21),u(1,"Campo requerido"),s())}function Ke(n,p){n&1&&(a(0,"span",21),u(1,"Este campo no admite carecteres especiales"),s())}function Qe(n,p){if(n&1&&(a(0,"div"),d(1,ze,2,0,"span",20)(2,Ke,2,0,"span",20),s()),n&2){let e=g();c(),l("ngIf",e.loanForm.get("fullName").errors.required),c(),l("ngIf",e.loanForm.get("fullName").errors.pattern)}}function Ue(n,p){n&1&&(a(0,"span",21),u(1,"Campo requerido"),s())}function Ge(n,p){n&1&&(a(0,"span",21),u(1,"El monto ingresado debe ser mayor a 100"),s())}function He(n,p){n&1&&(a(0,"span",21),u(1,"El monto ingresado debe ser menor a 2000"),s())}function $e(n,p){n&1&&(a(0,"span",21),u(1,"Este campo solo admite n\xFAmeros"),s())}function Ze(n,p){if(n&1&&(a(0,"div"),d(1,Ue,2,0,"span",20)(2,Ge,2,0,"span",20)(3,He,2,0,"span",20)(4,$e,2,0,"span",20),s()),n&2){let e=g();c(),l("ngIf",e.loanForm.get("amount").errors.required),c(),l("ngIf",e.loanForm.get("amount").errors.min),c(),l("ngIf",e.loanForm.get("amount").errors.max),c(),l("ngIf",e.loanForm.get("amount").errors.pattern)}}function Je(n,p){n&1&&(a(0,"span",21),u(1,"Campo requerido"),s())}function We(n,p){if(n&1&&(a(0,"div"),d(1,Je,2,0,"span",20),s()),n&2){let e=g();c(),l("ngIf",e.loanForm.get("dataPolicy").errors.required)}}var Fe=(()=>{class n{constructor(e){this.router=e,this.documentsTypes=[{name:"DNI",code:1}],this.loading=!1,this.allowDocuments=["65443456","76443234","87994345","08778721"],this.loanForm=new ce({documentType:new V(1,_.required),documentNumber:new V("",{validators:[_.required,_.pattern("^[0-9]{0,7}[0-9]*$"),_.maxLength(8),_.minLength(8),this.excludeSpecificDni("00000000")]}),fullName:new V("",[_.required,_.pattern("^[a-zA-Z0-9 ]*$")]),amount:new V(null,[_.required,_.min(100),_.max(2e3),_.pattern(/^\d+(\.\d{1,2})?$/)]),dataPolicy:new V(!1,_.requiredTrue)})}excludeSpecificDni(e){return i=>i.value===e?{excludedDni:!0}:null}onDocumentNumberKeyDown(e){["0","1","2","3","4","5","6","7","8","9","Backspace","Delete"].includes(e.key)?this.loanForm.get("documentNumber").value.length>=8&&!["Backspace","Delete"].includes(e.key)&&e.preventDefault():e.preventDefault()}continue(){this.loading=!0;let e=this.loanForm.get("documentNumber").value,i=this.allowDocuments.includes(e),t=this.loanForm.get("fullName").value.split(" ")[0];setTimeout(()=>{let o={true:()=>{this.router.navigate(["prestamo/anuncio",{status:"positive",firstName:t}])},false:()=>{this.router.navigate(["prestamo/anuncio",{status:"negative",firstName:t}])},default:()=>{}};this.loading=!1,(o[String(i)]||o.default)()},2e3)}static{this.\u0275fac=function(i){return new(i||n)(v(B))}}static{this.\u0275cmp=x({type:n,selectors:[["app-loan-form"]],viewQuery:function(i,t){if(i&1&&S(Ae,5),i&2){let o;P(o=T())&&(t.documentNumberInput=o.first)}},decls:30,vars:8,consts:[["documentNumberInput",""],[1,"loan"],[1,"loan__banner"],[1,"loan__form"],[3,"formGroup"],[1,"form__tag"],[1,"title"],[1,"document"],[1,"document__number"],["formControlName","documentType","name","DNI",1,"mb-select"],["value","1","selected",""],["type","text","formControlName","documentNumber","placeholder","Nro. de documento*",1,"mb-inputNumber",3,"keydown"],[4,"ngIf"],["type","text","formControlName","fullName","placeholder","Nombre Completo",1,"mb-inputText"],["type","text","formControlName","amount","placeholder","Monto a solicitar (S/)",1,"mb-inputText"],[1,"checkPolicy"],["type","checkbox","id","dataPolicy","name","dataPolicy","formControlName","dataPolicy",1,"checkPolicy__box"],["for","dataPolicy",1,"checkPolicy__label"],[1,"c-green"],["label","Continuar","size","large","styleClass","fluid",3,"handleCLick","disabled","pos","loading"],["class","errorMessage",4,"ngIf"],[1,"errorMessage"]],template:function(i,t){if(i&1){let o=w();a(0,"section",1),C(1,"div",2),a(2,"div",3)(3,"form",4)(4,"div",5)(5,"span"),u(6,"Mi Efectivo Semilla"),s()(),a(7,"h1",6),u(8,"Solicita tu Pr\xE9stamo 100% online:"),s(),a(9,"div",7)(10,"div",8)(11,"select",9)(12,"option",10),u(13,"DNI"),s()(),a(14,"input",11,0),y("keydown",function(m){return f(o),h(t.onDocumentNumberKeyDown(m))}),s(),d(16,je,3,2,"div",12),s(),C(17,"input",13),d(18,Qe,3,2,"div",12),C(19,"input",14),d(20,Ze,5,4,"div",12),a(21,"div",15),C(22,"input",16),a(23,"label",17),u(24,"He le\xEDdo y entendido el "),a(25,"strong",18),u(26,"Consentimiento informado para el Tratamiento de Datos Personales."),s()()(),d(27,We,2,1,"div",12),s(),a(28,"app-mb-button",19),y("handleCLick",function(){return f(o),h(t.continue())}),s()()()(),C(29,"app-benefits")}i&2&&(c(3),l("formGroup",t.loanForm),c(13),l("ngIf",t.loanForm.get("documentNumber").errors&&(t.loanForm.get("documentNumber").dirty||t.loanForm.get("documentNumber").touched)),c(2),l("ngIf",t.loanForm.get("fullName").errors&&(t.loanForm.get("fullName").dirty||t.loanForm.get("fullName").touched)),c(2),l("ngIf",t.loanForm.get("amount").errors&&(t.loanForm.get("amount").dirty||t.loanForm.get("amount").touched)),c(7),l("ngIf",t.loanForm.get("dataPolicy").errors&&(t.loanForm.get("dataPolicy").dirty||t.loanForm.get("dataPolicy").touched)),c(),l("disabled",!t.loanForm.valid)("pos","right")("loading",t.loading))},dependencies:[E,O,pe,ge,_e,le,se,he,ue,me,de,fe,Pe],styles:[".loan[_ngcontent-%COMP%]{width:100%;display:flex}.loan__banner[_ngcontent-%COMP%]{width:50%;background-color:#f2ffab}@media (max-width: 900px){.loan__banner[_ngcontent-%COMP%]{display:none}}.loan__form[_ngcontent-%COMP%]{width:50%;padding:3rem 6rem}@media (max-width: 900px){.loan__form[_ngcontent-%COMP%]{width:100%;padding:2rem 4rem}}.form__tag[_ngcontent-%COMP%]{background-color:#009ff9;height:24px;color:#fff;font-family:Lato,sans-serif;font-size:16px;font-weight:400;line-height:22px;text-align:left;border-radius:4px;width:163px;text-align:center}.document__type[_ngcontent-%COMP%]{display:flex;width:100%}.mb-select[_ngcontent-%COMP%]{height:40px;font-family:Lato,sans-serif;font-size:16px;font-weight:400;color:#495057;background:#fff;padding:0 .5rem;border:1px solid #ced4da;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s;border-radius:3px;width:20%}@media (max-width: 1100px){.mb-select[_ngcontent-%COMP%]{width:30%}}.mb-inputNumber[_ngcontent-%COMP%]{height:40px;font-family:Lato,sans-serif;font-size:16px;font-weight:400;color:#495057;background:#fff;padding:.5rem;border:1px solid #ced4da;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s;border-radius:3px;width:80%}@media (max-width: 1100px){.mb-inputNumber[_ngcontent-%COMP%]{width:70%}}.mb-inputText[_ngcontent-%COMP%]{margin-top:1rem;height:40px;font-family:Lato,sans-serif;font-size:16px;font-weight:400;color:#495057;background:#fff;padding:.5rem;border:1px solid #ced4da;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s;border-radius:3px;width:100%}.checkPolicy[_ngcontent-%COMP%]{margin-top:24px;display:flex;align-items:center}.checkPolicy__box[_ngcontent-%COMP%]{border:1px solid #ced4da;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s;border-radius:3px;color:#495057;font-size:1rem;height:24px;width:24px}.checkPolicy__label[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-size:12px;font-weight:400;line-height:16px;text-align:left;margin-left:5px}.c-green[_ngcontent-%COMP%]{color:var(--mb-green)}.errorMessage[_ngcontent-%COMP%]{color:red;font-size:11px}"]})}}return n})();function Xe(n,p){if(n&1){let e=w();a(0,"section",1),C(1,"img",2),a(2,"span",3),u(3),s(),a(4,"span",4),u(5,"ya cuentas con una solicitud en proceso."),s(),a(6,"p"),u(7,"Te contactaremos v\xEDa llamada o correo para continuar con la evaluaci\xF3n. Gracias por confiar en Mibanco."),s(),a(8,"app-mb-button",5),y("handleCLick",function(){f(e);let t=g();return h(t.goHome())}),s()()}if(n&2){let e=g();c(3),A("",e.name,","),c(5),l("disabled",!1)}}function Ye(n,p){if(n&1){let e=w();a(0,"section",1),C(1,"img",2),a(2,"span",3),u(3),s(),a(4,"span",4),u(5,"por el momento no tenemos una oferta para ti."),s(),a(6,"p"),u(7,"Por ahora, te invitamos a acercarte a nuestra red de agencias para realizar tu solicitud."),s(),a(8,"app-mb-button",5),y("handleCLick",function(){f(e);let t=g();return h(t.goHome())}),s()()}if(n&2){let e=g();c(3),A("",e.name,","),c(5),l("disabled",!1)}}var Ne=(()=>{class n{constructor(e,i){this.route=e,this.router=i,this.status="",this.name=""}ngOnInit(){this.route.params.subscribe(e=>{this.status=e.status,this.name=e.firstName})}goHome(){this.router.navigateByUrl("/",{replaceUrl:!0})}static{this.\u0275fac=function(i){return new(i||n)(v(ae),v(B))}}static{this.\u0275cmp=x({type:n,selectors:[["app-announcements"]],decls:2,vars:2,consts:[["class","announcement",4,"ngIf"],[1,"announcement"],["src","assets/icons/ico_asesor.png","alt",""],[1,"title","t-name"],[1,"title-4"],["label","Ir al inicio",3,"handleCLick","disabled"]],template:function(i,t){i&1&&d(0,Xe,9,2,"section",0)(1,Ye,9,2,"section",0),i&2&&(l("ngIf",t.status==="positive"),c(),l("ngIf",t.status==="negative"))},dependencies:[E,O],styles:[".announcement[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;padding:5rem 3rem 7rem;text-align:center}.t-name[_ngcontent-%COMP%]{padding-top:1.5rem}"]})}}return n})();var et=[{path:"",component:Fe},{path:"anuncio",component:Ne}],Se=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=I({type:n})}static{this.\u0275inj=M({imports:[j.forChild(et),j]})}}return n})();var tt=["input"];function it(n,p){if(n&1){let e=w();a(0,"TimesIcon",5),y("click",function(){f(e);let t=g(2);return h(t.clear())}),s()}n&2&&(l("styleClass","p-inputmask-clear-icon"),N("data-pc-section","clearIcon"))}function nt(n,p){}function ot(n,p){n&1&&d(0,nt,0,0,"ng-template")}function at(n,p){if(n&1){let e=w();a(0,"span",6),y("click",function(){f(e);let t=g(2);return h(t.clear())}),d(1,ot,1,0,null,7),s()}if(n&2){let e=g(2);N("data-pc-section","clearIcon"),c(),l("ngTemplateOutlet",e.clearIconTemplate)}}function rt(n,p){if(n&1&&(J(0),d(1,it,1,2,"TimesIcon",3)(2,at,2,2,"span",4),W()),n&2){let e=g();c(),l("ngIf",!e.clearIconTemplate),c(),l("ngIf",e.clearIconTemplate)}}var st={provide:re,useExisting:Q(()=>lt),multi:!0},lt=(()=>{class n{document;platformId;el;cd;config;type="text";slotChar="_";autoClear=!0;showClear=!1;style;inputId;styleClass;placeholder;size;maxlength;tabindex;title;variant="outlined";ariaLabel;ariaLabelledBy;ariaRequired;disabled;readonly;unmask;name;required;characterPattern="[A-Za-z]";autofocus;set autoFocus(e){this.autofocus=e,console.warn("autoFocus is deprecated. Use autofocus property instead.")}autocomplete;keepBuffer=!1;get mask(){return this._mask}set mask(e){this._mask=e,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}onComplete=new k;onFocus=new k;onBlur=new k;onInput=new k;onKeydown=new k;onClear=new k;inputViewChild;templates;clearIconTemplate;value;_mask;onModelChange=()=>{};onModelTouched=()=>{};input;filled;defs;tests;partialPosition;firstNonMaskPos;lastRequiredNonMaskPos;len;oldVal;buffer;defaultBuffer;focusText;caretTimeoutId;androidChrome=!0;focused;_variant="outlined";get inputClass(){return{"p-inputmask":!0}}constructor(e,i,t,o,r){this.document=e,this.platformId=i,this.el=t,this.cd=o,this.config=r}ngOnInit(){if(q(this.platformId)){let e=navigator.userAgent;this.androidChrome=/chrome/i.test(e)&&/android/i.test(e)}this.initMask()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"clearicon":this.clearIconTemplate=e.template;break}})}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let e=this.mask.split("");for(let i=0;i<e.length;i++){let t=e[i];t=="?"?(this.len--,this.partialPosition=i):this.defs[t]?(this.tests.push(new RegExp(this.defs[t])),this.firstNonMaskPos===null&&(this.firstNonMaskPos=this.tests.length-1),i<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let i=0;i<e.length;i++){let t=e[i];t!="?"&&(this.defs[t]?this.buffer.push(this.getPlaceholder(i)):this.buffer.push(t))}this.defaultBuffer=this.buffer.join("")}writeValue(e){this.value=e,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.value==null||this.value==null?this.inputViewChild.nativeElement.value="":this.inputViewChild.nativeElement.value=this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}caret(e,i){let t,o,r;if(!(!this.inputViewChild?.nativeElement.offsetParent||this.inputViewChild.nativeElement!==this.inputViewChild.nativeElement.ownerDocument.activeElement))if(typeof e=="number")o=e,r=typeof i=="number"?i:o,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(o,r):this.inputViewChild.nativeElement.createTextRange&&(t=this.inputViewChild.nativeElement.createTextRange(),t.collapse(!0),t.moveEnd("character",r),t.moveStart("character",o),t.select());else return this.inputViewChild.nativeElement.setSelectionRange?(o=this.inputViewChild.nativeElement.selectionStart,r=this.inputViewChild.nativeElement.selectionEnd):this.document&&this.document.selection.createRange&&(t=this.document.createRange(),o=0-t.duplicate().moveStart("character",-1e5),r=o+t.text.length),{begin:o,end:r}}isCompleted(){let e;for(let i=this.firstNonMaskPos;i<=this.lastRequiredNonMaskPos;i++)if(this.tests[i]&&this.buffer[i]===this.getPlaceholder(i))return!1;return!0}getPlaceholder(e){return e<this.slotChar.length?this.slotChar.charAt(e):this.slotChar.charAt(0)}seekNext(e){for(;++e<this.len&&!this.tests[e];);return e}seekPrev(e){for(;--e>=0&&!this.tests[e];);return e}shiftL(e,i){let t,o;if(!(e<0)){for(t=e,o=this.seekNext(i);t<this.len;t++)if(this.tests[t]){if(o<this.len&&this.tests[t].test(this.buffer[o]))this.buffer[t]=this.buffer[o],this.buffer[o]=this.getPlaceholder(o);else break;o=this.seekNext(o)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,e))}}shiftR(e){let i,t,o,r;for(i=e,t=this.getPlaceholder(e);i<this.len;i++)if(this.tests[i])if(o=this.seekNext(i),r=this.buffer[i],this.buffer[i]=t,o<this.len&&this.tests[o].test(r))t=r;else break}handleAndroidInput(e){var i=this.inputViewChild?.nativeElement.value,t=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>i.length){for(this.checkVal(!0);t.begin>0&&!this.tests[t.begin-1];)t.begin--;if(t.begin===0)for(;t.begin<this.firstNonMaskPos&&!this.tests[t.begin];)t.begin++;setTimeout(()=>{this.caret(t.begin,t.begin),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);t.begin<this.len&&!this.tests[t.begin];)t.begin++;setTimeout(()=>{this.caret(t.begin,t.begin),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(e){if(this.focused=!1,this.onModelTouched(),this.keepBuffer||this.checkVal(),this.updateFilledState(),this.onBlur.emit(e),this.inputViewChild?.nativeElement.value!=this.focusText||this.inputViewChild?.nativeElement.value!=this.value){this.updateModel(e);let i=this.document.createEvent("HTMLEvents");i.initEvent("change",!0,!1),this.inputViewChild?.nativeElement.dispatchEvent(i)}}onInputKeydown(e){if(this.readonly)return;let i=e.which||e.keyCode,t,o,r,m;q(this.platformId)&&(m=/iphone/i.test(D.getUserAgent())),this.oldVal=this.inputViewChild?.nativeElement.value,this.onKeydown.emit(e),i===8||i===46||m&&i===127?(t=this.caret(),o=t.begin,r=t.end,r-o===0&&(o=i!==46?this.seekPrev(o):r=this.seekNext(o-1),r=i===46?this.seekNext(r):r),this.clearBuffer(o,r),this.keepBuffer?this.shiftL(o,r-2):this.shiftL(o,r-1),this.updateModel(e),this.onInput.emit(e),e.preventDefault()):i===13?(this.onInputBlur(e),this.updateModel(e)):i===27&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(e),e.preventDefault())}onKeyPress(e){if(!this.readonly){var i=e.which||e.keyCode,t=this.caret(),o,r,m,K;e.ctrlKey||e.altKey||e.metaKey||i<32||i>34&&i<41||(i&&i!==13&&(t.end-t.begin!==0&&(this.clearBuffer(t.begin,t.end),this.shiftL(t.begin,t.end-1)),o=this.seekNext(t.begin-1),o<this.len&&(r=String.fromCharCode(i),this.tests[o].test(r)&&(this.shiftR(o),this.buffer[o]=r,this.writeBuffer(),m=this.seekNext(o),D.isClient()&&/android/i.test(D.getUserAgent())?setTimeout(()=>{this.caret(m)},0):this.caret(m),t.begin<=this.lastRequiredNonMaskPos&&(K=this.isCompleted()),this.onInput.emit(e))),e.preventDefault()),this.updateModel(e),this.updateFilledState(),K&&this.onComplete.emit())}}clearBuffer(e,i){if(!this.keepBuffer){let t;for(t=e;t<i&&t<this.len;t++)this.tests[t]&&(this.buffer[t]=this.getPlaceholder(t))}}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(e){let i=this.inputViewChild?.nativeElement.value,t=-1,o,r,m;for(o=0,m=0;o<this.len;o++)if(this.tests[o]){for(this.buffer[o]=this.getPlaceholder(o);m++<i.length;)if(r=i.charAt(m-1),this.tests[o].test(r)){this.keepBuffer||(this.buffer[o]=r),t=o;break}if(m>i.length){this.clearBuffer(o+1,this.len);break}}else this.buffer[o]===i.charAt(m)&&m++,o<this.partialPosition&&(t=o);return e?this.writeBuffer():t+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild?.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild?.nativeElement.value.substring(0,t+1)),this.partialPosition?o:this.firstNonMaskPos}onInputFocus(e){if(this.readonly)return;this.focused=!0,clearTimeout(this.caretTimeoutId);let i;this.focusText=this.inputViewChild?.nativeElement.value,i=this.keepBuffer?this.inputViewChild?.nativeElement.value.length:this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild?.nativeElement===this.inputViewChild?.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),i==this.mask?.replace("?","").length?this.caret(0,i):this.caret(i))},10),this.onFocus.emit(e)}onInputChange(e){this.androidChrome?this.handleAndroidInput(e):this.handleInputChange(e),this.onInput.emit(e)}handleInputChange(e){this.readonly||this.disabled||setTimeout(()=>{var i=this.checkVal(!0);this.caret(i),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let e=[];for(let i=0;i<this.buffer.length;i++){let t=this.buffer[i];this.tests[i]&&t!=this.getPlaceholder(i)&&e.push(t)}return e.join("")}updateModel(e){let i=this.unmask?this.getUnmaskedValue():e.target.value;(i!==null||i!==void 0)&&(this.value=i,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild?.nativeElement&&this.inputViewChild.nativeElement.value!=""}focus(){this.inputViewChild?.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}static \u0275fac=function(i){return new(i||n)(v(te),v(G),v(U),v(ee),v(ve))};static \u0275cmp=x({type:n,selectors:[["p-inputMask"]],contentQueries:function(i,t,o){if(i&1&&X(o,be,4),i&2){let r;P(r=T())&&(t.templates=r)}},viewQuery:function(i,t){if(i&1&&S(tt,7),i&2){let o;P(o=T())&&(t.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(i,t){i&2&&$("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focused)("p-inputmask-clearable",t.showClear&&!t.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:[2,"autoClear","autoClear",b],showClear:[2,"showClear","showClear",b],style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:[2,"size","size",R],maxlength:[2,"maxlength","maxlength",R],tabindex:"tabindex",title:"title",variant:"variant",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",ariaRequired:[2,"ariaRequired","ariaRequired",b],disabled:[2,"disabled","disabled",b],readonly:[2,"readonly","readonly",b],unmask:[2,"unmask","unmask",b],name:"name",required:[2,"required","required",b],characterPattern:"characterPattern",autofocus:[2,"autofocus","autofocus",b],autoFocus:[2,"autoFocus","autoFocus",b],autocomplete:"autocomplete",keepBuffer:[2,"keepBuffer","keepBuffer",b],mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[Y([st]),H],decls:3,vars:24,consts:[["input",""],["pInputText","","pAutoFocus","",3,"focus","blur","keydown","keypress","input","paste","ngClass","ngStyle","disabled","readonly","variant","autofocus"],[4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-inputmask-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-inputmask-clear-icon",3,"click"],[4,"ngTemplateOutlet"]],template:function(i,t){if(i&1){let o=w();a(0,"input",1,0),y("focus",function(m){return f(o),h(t.onInputFocus(m))})("blur",function(m){return f(o),h(t.onInputBlur(m))})("keydown",function(m){return f(o),h(t.onInputKeydown(m))})("keypress",function(m){return f(o),h(t.onKeyPress(m))})("input",function(m){return f(o),h(t.onInputChange(m))})("paste",function(m){return f(o),h(t.handleInputChange(m))}),s(),d(2,rt,3,2,"ng-container",2)}i&2&&(Z(t.styleClass),l("ngClass",t.inputClass)("ngStyle",t.style)("disabled",t.disabled)("readonly",t.readonly)("variant",t.variant)("autofocus",t.autofocus),N("id",t.inputId)("type",t.type)("name",t.name)("placeholder",t.placeholder)("title",t.title)("size",t.size)("autocomplete",t.autocomplete)("maxlength",t.maxlength)("tabindex",t.tabindex)("aria-label",t.ariaLabel)("aria-labelledBy",t.ariaLabelledBy)("aria-required",t.ariaRequired)("required",t.required)("data-pc-name","inputmask")("data-pc-section","root"),c(2),l("ngIf",t.value!=null&&t.filled&&t.showClear&&!t.disabled))},dependencies:()=>[ie,E,oe,ne,Ie,we,z],styles:[`@layer primeng{.p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),Le=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=I({type:n});static \u0275inj=M({imports:[L,Ee,xe,z,ye]})}return n})();var Xt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=I({type:n})}static{this.\u0275inj=M({imports:[L,Se,ke,Ce,Me,Le,Ve]})}}return n})();export{Xt as LoanModule};
